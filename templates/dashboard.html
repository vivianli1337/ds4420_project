{% extends "base.html" %}

{% block content %}
<div class="row">
    <!-- Sales Overview Card -->
    <div class="col-md-3 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Total Sales</h5>
                <h2 class="card-text" id="totalSales">${{ total_sales }}</h2>
            </div>
        </div>
    </div>
    
    <!-- Customer Count Card -->
    <div class="col-md-3 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Total Customers</h5>
                <h2 class="card-text" id="totalCustomers">{{ total_customers }}</h2>
            </div>
        </div>
    </div>
    
    <!-- Average Rating Card -->
    <div class="col-md-3 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Average Rating</h5>
                <h2 class="card-text" id="avgRating">{{ avg_rating }}</h2>
            </div>
        </div>
    </div>
    
    <!-- Total Items Card -->
    <div class="col-md-3 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Total Items Sold</h5>
                <h2 class="card-text" id="totalItems">{{ total_items }}</h2>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Sales Over Time Chart -->
    <div class="col-md-8 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Sales Over Time</h5>
                <div id="salesChart" data-chart='{{ sales_chart }}'></div>
            </div>
        </div>
    </div>
    
    <!-- Top Items Chart -->
    <div class="col-md-4 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Top Selling Items</h5>
                <div id="topItemsChart" data-chart='{{ top_items_chart }}'></div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Time Series Plot by Item -->
    <div class="col-md-12 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Sales Over Time by Item</h5>
                <div id="tsPlot" data-plot='{{ ts_plot }}'></div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Time Series Plot -->
    <div class="col-md-12 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Daily Sales Metrics</h5>
                <div id="timeSeriesPlot" data-plot='{{ time_series_plot }}'></div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Interactive Item Sales Chart -->
    <div class="col-md-12 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Interactive Item Sales Analysis</h5>
                <div id="itemSalesChart" data-chart='{{ item_sales_chart }}'></div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Line Plot -->
    <div class="col-md-12 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Sales Trend Analysis</h5>
                <div id="linePlot" data-plot='{{ line_plot }}'></div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Customer Similarity Matrix -->
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Customer Similarity Matrix</h5>
                <div id="similarityMatrix" data-matrix='{{ similarity_matrix }}'></div>
            </div>
        </div>
    </div>
    
    <!-- Item Similarity Matrix -->
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Item Similarity Matrix</h5>
                <div id="itemSimilarityMatrix" data-matrix='{{ item_similarity_matrix }}'></div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <!-- Payment Distribution -->
    <div class="col-md-12 mb-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Payment Method Distribution</h5>
                <div id="paymentChart" data-chart='{{ payment_chart }}'></div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 